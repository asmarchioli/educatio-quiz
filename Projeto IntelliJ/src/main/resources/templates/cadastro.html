<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Educatio Quiz</title>
    <link rel="stylesheet" th:href="@{/css/login_cadastro.css}">
</head>
<body>
<div class="container">
    <h2>üìù Cadastro</h2>

   <div th:if="${erro}" class="alert alert-danger" th:text="${erro}"></div>

    <div class="tabs">
        <button class="tab active" onclick="switchTab('aluno')">Sou Aluno</button>
        <button class="tab" onclick="switchTab('professor')">Sou Professor</button>
    </div>

    <!-- ALUNO -->
    <div id="aluno-tab" class="tab-content active">
        <form action="/cadastro/aluno" method="post" th:object="${aluno}">
            <div class="form-group">
                <label>Nome Completo:</label>
                <input type="text" th:field="*{nome}" required>
                <span th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></span>
            </div>
            <div class="form-group">
                <label>E-mail:</label>
                <input type="email" th:field="*{email}" required>
                <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
            </div>
            <div class="form-group">
                <label>Senha:</label>
                <input type="password" th:field="*{senha}" required>
                <span th:if="${#fields.hasErrors('senha')}"
                      th:errors="*{senha}">
        </span>
            </div>
            <div class="form-group">
                <label>N√≠vel Educacional:</label>
                <select th:field="*{nivel_educacional}" required>
                    <option value="">Selecione...</option>
                    <option th:each="esc : ${escolaridades}" th:value="${esc.name()}" th:text="${esc}"></option>
                </select>
                <span th:if="${#fields.hasErrors('nivel_educacional')}" 
                      th:errors="*{nivel_educacional}"></span>
            </div>
            <button class="btn">Cadastrar como Aluno</button>
        </form>
    </div>

    <!-- PROFESSOR -->
    <div id="professor-tab" class="tab-content">
        <form action="/cadastro/professor" method="post" th:object="${professor}">
            <div class="form-group">
                <label>Nome Completo:</label>
                <input type="text" th:field="*{nome}" required>
                <span th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></span>
            </div>
            <div class="form-group">
                <label>E-mail:</label>
                <input type="email" th:field="*{email}" required>
                <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
            </div>
            <div class="form-group">
                <label>Senha:</label>
                <input type="password" th:field="*{senha}" required>
                <span th:if="${#fields.hasErrors('senha')}"
                      th:errors="*{senha}"
                    >
                </span>
            </div>
            <div class="form-group">
                <label>Institui√ß√£o de Ensino:</label>
                <input type="text" th:field="*{instituicao_ensino}" required>
                <span th:if="${#fields.hasErrors('instituicao_ensino')}" th:errors="*{instituicao_ensino}">
            </div>
            <div class="form-group">
                <label>Descri√ß√£o Profissional:</label>
                <textarea th:field="*{descricao_profissional}" required></textarea>
                <span th:if="${#fields.hasErrors('descricao_profissional')}" th:errors="*{descricao_profissional}"></span>
            </div>
            <div class="form-group">
                <label>√Åreas de Forma√ß√£o:</label>
                <div class="checkbox-group">
                    <div class="checkbox-item" th:each="area : ${areas}">
                        <!-- O que faz mapear para o requestParam √© o name, j√° para o objeto professor √© th:field -->
                        <input type="checkbox" name="areasProfessor" th:value="${area.idArea}">
                        <label th:text="${area.nomeArea}"></label>
                    </div>
                </div>
            </div>
            <button class="btn">Cadastrar como Professor</button>
        </form>
    </div>

    <div class="link">
        <p>J√° tem uma conta? <a href="/login">Fa√ßa login aqui</a></p>
        <a href="/">‚Üê Voltar para in√≠cio</a>
    </div>
</div>

<script>
    function switchTab(tipo) {
        document.querySelectorAll('.tab, .tab-content').forEach(el => {
            el.classList.remove('active');
        });
        event.target.classList.add('active');
        document.getElementById(tipo + '-tab').classList.add('active');
    }
</script>
</body>
</html>
